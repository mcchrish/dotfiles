# Remove spotlight icon in menu bar
sudo chmod 600 /System/Library/CoreServices/Search.bundle/Contents/MacOS/Search

# Export Karabiner settings
/Applications/Karabiner.app/Contents/Library/bin/karabiner export > ~/dotfiles/karabiner-export.sh

# Minimize to app icon
defaults write com.apple.dock minimize-to-application -bool true

# App Store debug mode
defaults write com.apple.appstore ShowDebugMenu -bool true

# Mail attachments as icons
defaults write com.apple.mail DisableInlineAttachmentViewing -bool yes

# Safari Enable Develop Menu and Web Inspector
defaults write com.apple.Safari IncludeInternalDebugMenu -bool true && \
defaults write com.apple.Safari IncludeDevelopMenu -bool true && \
defaults write com.apple.Safari WebKitDeveloperExtrasEnabledPreferenceKey -bool true && \
defaults write com.apple.Safari com.apple.Safari.ContentPageGroupIdentifier.WebKit2DeveloperExtrasEnabled -bool true && \
defaults write NSGlobalDomain WebKitDeveloperExtras -bool true

# TextEdit plain text
defaults write com.apple.TextEdit RichText -int 0

# Stop asking, Time Machine
defaults write com.apple.TimeMachine DoNotOfferNewDisksForBackup -bool true

# Show file extension
defaults write NSGlobalDomain AppleShowAllExtensions -bool true

# Show full path in finder title bar
defaults write com.apple.finder _FXShowPosixPathInTitle -bool true

# No hide library
chflags nohidden ~/Library

# show path bar
defaults write com.apple.finder ShowPathbar -bool true

# Don't save in icloud
defaults write NSGlobalDomain NSDocumentSaveNewDocumentsToCloud -bool false

# Set Current Folder as Default Search Scope
defaults write com.apple.finder FXDefaultSearchScope -string "SCcf"

# Set Default Finder Location to Home Folder
defaults write com.apple.finder NewWindowTarget -string "PfLo" && \
defaults write com.apple.finder NewWindowTargetPath -string "file://${HOME}"

# Medium sidebar size
defaults write NSGlobalDomain NSTableViewDefaultSizeMode -int 2


# No DS_Store
defaults write com.apple.desktopservices DSDontWriteNetworkStores -bool true
defaults write com.apple.desktopservices DSDontWriteUSBStores -bool true

# Disable Dashboard
defaults write com.apple.dashboard mcx-disabled -bool true

# Donâ€™t show Dashboard as a Space
defaults write com.apple.dock dashboard-in-overlay -bool true

# Automatically hide and show the Dock
defaults write com.apple.dock autohide -bool true

# Copy email addresses as `foo@example.com` instead of `Foo Bar <foo@example.com>` in Mail.app
defaults write com.apple.mail AddressesIncludeNameOnPasteboard -bool false

# Homebrew
if !(which brew > /dev/null); then
  echo 'Installing brew...'
  ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
fi


# set zsg as default shell
chsh -s $(which zsh)
